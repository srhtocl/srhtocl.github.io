import{h as x,a as b,u as f,r as n,j as e}from"./index-mooztKJC.js";import{u as p,M as h}from"./useChat-qaACssUP.js";import{i as w}from"./index-DJUQH0VY.js";import{r as v}from"./notification-ZCRwf60u.js";import"./index-io9t7BQJ.js";function S(){const{userid:i}=x(),a=b(),l=f();n.useEffect(()=>{l.user?v("admin_device"):a("/")},[l.user,a]);const{messages:d,loading:u,sending:r,sendMessage:m}=p(i),[t,o]=n.useState(""),c=async s=>{s.preventDefault(),await m(t,!0),o("")};return e.jsxs("div",{className:"fixed inset-0 flex flex-col w-full h-full overflow-hidden bg-slate-50 overscroll-none",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-slate-300 rounded-full mix-blend-multiply filter blur-[60px] opacity-20 animate-blob pointer-events-none"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50vw] h-[50vw] bg-gray-300 rounded-full mix-blend-multiply filter blur-[60px] opacity-20 animate-blob animation-delay-2000 pointer-events-none"}),e.jsx("div",{className:"flex-1 overflow-y-auto z-10 w-full max-w-2xl mx-auto px-4 custom-scrollbar pb-4 pt-4",children:u?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"w-8 h-8 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin"})}):e.jsx(h,{messages:d})}),e.jsx("div",{className:"flex-none z-20 w-full max-w-2xl mx-auto p-4 bg-slate-50/50 backdrop-blur-md border-t border-white/50",children:e.jsxs("form",{className:"flex items-center gap-2 bg-white rounded-2xl shadow-lg border border-slate-200 p-2 transition-all focus-within:ring-2 focus-within:ring-slate-300/50",onSubmit:c,children:[e.jsx("input",{className:"flex-auto bg-transparent border-none outline-none px-4 py-3 text-slate-700 placeholder-slate-400 font-['Ubuntu'] min-w-0",type:"text",value:t,placeholder:"Bir cevap yaz...",onChange:s=>o(s.target.value)}),e.jsx("button",{type:"submit",disabled:!t.trim()||r,className:"flex-none flex items-center justify-center w-12 h-12 bg-slate-900 text-white rounded-xl hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md active:scale-95",children:r?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx(w,{size:20,className:t.trim()?"translate-x-0.5":""})})]})})]})}export{S as default};
