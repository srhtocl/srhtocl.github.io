import{u as g,a as w,r as a,j as e,d as p,e as h,g as y,C as v,D as j,s as N}from"./index-Duu9KJEH.js";import{n as m}from"./index-D5V6YLyO.js";const R=()=>{const{user:s}=g(),l=w(),[o,r]=a.useState(""),[n,c]=a.useState(""),[d,u]=a.useState(!1);a.useEffect(()=>{if(!s){l("/");return}(async()=>{try{const i=p(h,"admin","profile"),f=await y(i);if(f.exists()){const x=f.data();c(x.bio||""),r(x.photoURL||"")}else r(s.photoURL||"")}catch(i){console.error("Profil yüklenirken hata:",i)}})()},[s,l]);const b=async()=>{u(!0);try{await v(j.currentUser,{photoURL:o});const t=p(h,"admin","profile");await N(t,{bio:n,photoURL:o,updatedAt:new Date},{merge:!0}),m.success("Profil güncellendi."),setTimeout(()=>l(0),1e3)}catch(t){console.error("Hata:",t),m.error("Bir hata oluştu: "+t.message)}finally{u(!1)}};return e.jsxs("div",{className:"w-full h-full flex flex-col font-['Ubuntu'] bg-slate-50",children:[e.jsx("div",{className:"flex-1 w-full max-w-2xl mx-auto p-6 space-y-8",children:e.jsxs("div",{className:"space-y-6 pt-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Biyografi / Söz"}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{value:n,onChange:t=>c(t.target.value),placeholder:"Bir-iki kelime bile sessizlikten iyidir...",className:"w-full bg-white border border-slate-200 rounded-xl py-4 px-4 text-slate-800 outline-none focus:border-slate-800 focus:ring-1 focus:ring-slate-800 transition-all font-medium placeholder:text-slate-300 shadow-sm min-h-[120px] resize-y font-['Marck_Script'] text-xl"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Profil Fotoğrafı URL"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:o,onChange:t=>r(t.target.value),placeholder:"https://...",className:"w-full bg-white border border-slate-200 rounded-xl py-4 px-4 text-slate-800 outline-none focus:border-slate-800 focus:ring-1 focus:ring-slate-800 transition-all font-medium placeholder:text-slate-300 shadow-sm"})})]})]})}),e.jsx("div",{className:"p-6 bg-transparent sticky bottom-0 z-10 flex justify-end",children:e.jsx("button",{onClick:b,disabled:d,className:"w-full md:w-auto px-8 py-4 bg-slate-900 text-white rounded-xl font-bold tracking-wide shadow-xl shadow-slate-900/10 active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:d?"Kaydediliyor...":"KAYDET"})})]})};export{R as default};
